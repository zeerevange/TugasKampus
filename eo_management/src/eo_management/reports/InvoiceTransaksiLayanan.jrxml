<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report name" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="1d440b7a-6c9f-4479-92ad-30074db39bc4">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="419"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<subDataset name="dataTransaksiAddon" uuid="92bf2663-5498-48e5-a046-617d0bbb3048">
		<parameter name="NO_INVOICE" class="java.lang.String"/>
		<queryString>
			<![CDATA[SELECT
pesanan_addon.id_pesanan_addon,
pesanan_layanan.id_pesanan_layanan AS inoice_induk,
kategori_addon.nama_kategori_addon,
sub_kategori_addon.nama_sub_kategori_addon,
paket_addon.harga_paket_addon,
pesanan_addon.jumlah_pesanan_addon,

(paket_addon.harga_paket_addon * pesanan_addon.jumlah_pesanan_addon) AS total_harga
FROM
pesanan_addon
LEFT JOIN
pesanan_layanan ON pesanan_layanan.id_pesanan_layanan = pesanan_addon.id_pesanan_layanan
LEFT JOIN
paket_addon ON paket_addon.id_paket_addon = pesanan_addon.id_paket_addon
LEFT JOIN
sub_kategori_addon ON sub_kategori_addon.id_sub_kategori_addon = paket_addon.id_sub_kategori_addon
LEFT JOIN
kategori_addon ON kategori_addon.id_kategori_addon = sub_kategori_addon.id_kategori_addon
LEFT JOIN
pelanggan ON pelanggan.id_pelanggan = pesanan_layanan.id_pelanggan
LEFT JOIN
perusahaan_pelanggan ON perusahaan_pelanggan.id_pelanggan = pelanggan.id_pelanggan
WHERE pesanan_layanan.id_pesanan_layanan = $P{NO_INVOICE};]]>
		</queryString>
		<field name="id_pesanan_addon" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="inoice_induk" class="java.lang.String"/>
		<field name="nama_kategori_addon" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="nama_sub_kategori_addon" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="harga_paket_addon" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="jumlah_pesanan_addon" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="total_harga" class="java.lang.Long"/>
		<variable name="TOTAL_HARGA_ADDON" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{total_harga}]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="NO_INVOICE" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["sub_reports/"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
pesanan_layanan.id_pesanan_layanan,
pelanggan.nama_pelanggan,
perusahaan_pelanggan.nama_perusahaan_pelanggan AS bill_to,
perusahaan_pelanggan.alamat_perusahaan_pelanggan AS alamat_bill_to,
pelanggan.no_telp_pelanggan,
pelanggan.email_pelanggan,
paket_layanan.nama_paket_layanan,
paket_layanan.harga_paket_layanan,
paket_layanan.include_paket_layanan,
paket_layanan.deskripsi_paket_layanan,
pesanan_layanan.jumlah_peserta_pesanan_layanan,
(paket_layanan.harga_paket_layanan * pesanan_layanan.jumlah_peserta_pesanan_layanan) AS total_harga,
pesanan_layanan.status_lunas_pesanan_layanan
FROM pesanan_layanan
LEFT JOIN paket_layanan ON paket_layanan.id_paket_layanan = pesanan_layanan.id_paket_layanan
LEFT JOIN pelanggan ON pelanggan.id_pelanggan = pesanan_layanan.id_pelanggan
LEFT JOIN perusahaan_pelanggan ON perusahaan_pelanggan.id_pelanggan = pelanggan.id_pelanggan
WHERE pesanan_layanan.id_pesanan_layanan = $P{NO_INVOICE}]]>
	</queryString>
	<field name="id_pesanan_layanan" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nama_pelanggan" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="bill_to" class="java.lang.String"/>
	<field name="alamat_bill_to" class="java.lang.String"/>
	<field name="no_telp_pelanggan" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="email_pelanggan" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nama_paket_layanan" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="harga_paket_layanan" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="include_paket_layanan" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="deskripsi_paket_layanan" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="jumlah_peserta_pesanan_layanan" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="total_harga" class="java.lang.Long"/>
	<field name="status_lunas_pesanan_layanan" class="java.lang.Boolean">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="TOTAL_HARGA_ADDON" class="java.lang.Integer" calculation="System"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="91" splitType="Stretch">
			<image>
				<reportElement x="0" y="0" width="191" height="77" uuid="600b8818-8c3f-4c69-863e-b4f40da6d153"/>
				<imageExpression><![CDATA["kop-surat-outoria/kop-kiri.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="191" y="0" width="364" height="45" uuid="6d4bcdf5-fa2d-4778-8305-27cb8518e767"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="18" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[INVOICE]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="85" width="555" height="1" uuid="dd7aff02-38f5-48da-8372-614eb7612f70"/>
			</line>
			<textField>
				<reportElement x="191" y="45" width="364" height="20" uuid="e5ca84bc-d4f1-4fdd-8cb2-026c3f36dd68"/>
				<textElement textAlignment="Right">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_lunas_pesanan_layanan}  == true ? "LUNAS" : "BELUM LUNAS"]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="167" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="65" width="142" height="20" uuid="36bf3e64-f0b8-4fe7-9bb1-e8e15382325d"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Kepada]]></text>
			</staticText>
			<staticText>
				<reportElement x="370" y="85" width="185" height="20" uuid="467bf039-d568-4545-8a24-85cdfed6746b"/>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Outoria Indonesia
]]></text>
			</staticText>
			<staticText>
				<reportElement x="370" y="105" width="185" height="20" uuid="3e44b58a-2d86-43c2-9a66-72f6443daa77"/>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Sentul City â€“Bogor]]></text>
			</staticText>
			<staticText>
				<reportElement x="370" y="125" width="185" height="20" uuid="3924e99e-ce41-4eca-87b3-41e995260e9a"/>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[outoria.indonesia@gmail.com]]></text>
			</staticText>
			<staticText>
				<reportElement x="370" y="145" width="185" height="20" uuid="95455975-1347-4ce8-aba6-0be9001f4030"/>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[0857-7024-9760]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="11" width="142" height="20" uuid="e8c91e1b-6949-4dee-8c3b-cce8fe0b9cce"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[No. Invoice]]></text>
			</staticText>
			<staticText>
				<reportElement x="413" y="11" width="142" height="20" uuid="f3475578-bc62-4351-a568-0206e185e74d"/>
				<textElement textAlignment="Right">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Tanggal]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="31" width="142" height="20" uuid="0f999801-77ce-4b10-b499-63c488abd8f4"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{id_pesanan_layanan}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="85" width="255" height="20" uuid="baaeb806-9b4a-4358-bc2f-e9d967577d0c"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{bill_to} != null ? $F{bill_to} : $F{nama_pelanggan}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="125" width="255" height="20" uuid="c07c17a3-193a-4323-9fa4-8b00276c09b7"/>
				<textFieldExpression><![CDATA[$F{no_telp_pelanggan}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="455" y="31" width="100" height="20" uuid="d1a131cf-45dc-4f5b-afda-912fb40c39e2"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="0" y="105" width="255" height="20" isRemoveLineWhenBlank="true" uuid="fd3ab52f-36dc-491b-aa1c-99b27256d574"/>
				<textFieldExpression><![CDATA[$F{alamat_bill_to}]]></textFieldExpression>
			</textField>
		</band>
		<band height="217">
			<staticText>
				<reportElement mode="Opaque" x="0" y="0" width="254" height="20" forecolor="#FFFFFF" backcolor="#3399FF" uuid="087c9862-6e54-4e17-8f2a-dc746b2c37d2"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
				<text><![CDATA[Deskripsi]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="454" y="0" width="100" height="20" forecolor="#FFFFFF" backcolor="#3399FF" uuid="69052320-559d-4105-83b9-500f2273916e"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
				<text><![CDATA[Total]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="354" y="0" width="100" height="20" forecolor="#FFFFFF" backcolor="#3399FF" uuid="cb938c8a-8c7c-4bce-8f7f-1441e860ec4d"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
				<text><![CDATA[Harga Satuan]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="254" y="0" width="100" height="20" forecolor="#FFFFFF" backcolor="#3399FF" uuid="ad458e93-4fb4-4bec-b55d-225745dc3d93"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
				<text><![CDATA[Jumlah]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="24" width="255" height="20" uuid="27121ca6-8ea9-46ef-aa36-425ef0c9b7de"/>
				<textElement>
					<font size="9" isBold="true"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nama_paket_layanan}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="44" width="255" height="20" uuid="3d7780ad-4e37-4f55-adf8-d7a7897e2777"/>
				<textElement>
					<font size="9" isBold="true"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<text><![CDATA[Include:]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="64" width="254" height="74" isPrintWhenDetailOverflows="true" uuid="0ec41724-b03c-4d12-8609-42c24056c041"/>
				<textElement>
					<font size="9"/>
					<paragraph lineSpacing="1_1_2" leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{include_paket_layanan}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="255" y="24" width="100" height="20" uuid="0e69a9ae-e862-4d26-905d-8e1a62d8238d"/>
				<textElement>
					<font size="9"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{jumlah_peserta_pesanan_layanan}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="355" y="24" width="100" height="20" uuid="dd7f4585-0fae-41ab-8d5b-c8c1383aa705"/>
				<textElement>
					<font size="9"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.text.DecimalFormat("Rp#,##0").format($F{harga_paket_layanan})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="455" y="24" width="100" height="20" uuid="9798774c-2ded-456a-88e0-d201f57b45ee"/>
				<textElement>
					<font size="9"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.text.DecimalFormat("Rp#,##0").format($F{total_harga})]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="0" y="166" width="555" height="40" uuid="572db28d-141e-4a13-9974-854f7249341b"/>
				<subreportParameter name="NO_INVOICE">
					<subreportParameterExpression><![CDATA[$P{NO_INVOICE}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<returnValue subreportVariable="SUM_TOTAL_ADDON" toVariable="TOTAL_HARGA_ADDON" calculation="Sum"/>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "InvoiceTransaksiLayanan_Addon.jasper"]]></subreportExpression>
			</subreport>
			<staticText>
				<reportElement x="0" y="146" width="255" height="17" uuid="3815cbf2-78bc-4d19-8a8a-4de845d40b93"/>
				<textElement>
					<font size="9" isBold="true"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<text><![CDATA[Pesanan Addon :]]></text>
			</staticText>
		</band>
		<band height="225">
			<staticText>
				<reportElement mode="Opaque" x="355" y="0" width="100" height="20" forecolor="#FFFFFF" backcolor="#3399FF" uuid="96c58b84-b53d-4c88-8416-52a3322938d1"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<text><![CDATA[Sub Total]]></text>
			</staticText>
			<textField>
				<reportElement x="455" y="0" width="100" height="20" uuid="7c203ab5-9f72-424b-a0d9-9b41a16716c1"/>
				<textElement>
					<font size="9"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.text.DecimalFormat("Rp#,##0").format($F{total_harga}+($V{TOTAL_HARGA_ADDON} == null ? 0 : $V{TOTAL_HARGA_ADDON}))]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement mode="Opaque" x="355" y="20" width="100" height="20" forecolor="#FFFFFF" backcolor="#3399FF" uuid="b150fe37-a0a1-43c6-8cda-6d31ab25eb06"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<text><![CDATA[PPn 11%]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="355" y="40" width="100" height="20" forecolor="#FFFFFF" backcolor="#3399FF" uuid="6989a7e9-57d6-4025-8042-cbecd878a368"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<text><![CDATA[Grand Total]]></text>
			</staticText>
			<textField>
				<reportElement x="455" y="20" width="100" height="20" uuid="c619baa1-7023-4196-950c-f4a282cf65ff"/>
				<textElement>
					<font size="9"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.text.DecimalFormat("Rp#,##0").format(($F{total_harga} + ($V{TOTAL_HARGA_ADDON} == null ? 0 : $V{TOTAL_HARGA_ADDON})) * 0.11)]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="454" y="40" width="100" height="20" uuid="3aa4a266-2097-4906-954f-3d5d0f3ceca4"/>
				<textElement>
					<font size="9"/>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.text.DecimalFormat("Rp#,##0").format($F{total_harga} + $F{total_harga} * 0.11 + ($V{TOTAL_HARGA_ADDON} == null ? 0 : $V{TOTAL_HARGA_ADDON}) + ($V{TOTAL_HARGA_ADDON} == null ? 0 : $V{TOTAL_HARGA_ADDON}) * 0.11)]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="370" y="130" width="151" height="20" uuid="bd50f527-5b1b-47e2-a524-4d35853bccfb">
					<printWhenExpression><![CDATA[$V{REPORT_COUNT} == 1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Manager]]></text>
			</staticText>
			<staticText>
				<reportElement x="370" y="109" width="151" height="13" uuid="7a9ad268-f972-4270-92e9-ad40247a2648">
					<printWhenExpression><![CDATA[$V{REPORT_COUNT} == 1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Bogor, Kamis 04 Juli 2024]]></text>
			</staticText>
			<staticText>
				<reportElement x="370" y="205" width="151" height="20" uuid="1d8c02af-5902-49a9-b608-c22d49567f5a">
					<printWhenExpression><![CDATA[$V{REPORT_COUNT} == 1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isUnderline="true"/>
				</textElement>
				<text><![CDATA[Muhamad Syarifuddin]]></text>
			</staticText>
		</band>
	</detail>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
