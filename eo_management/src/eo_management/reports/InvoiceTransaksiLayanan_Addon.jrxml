<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="InvoiceTransaksiLayanan_Addon" language="groovy" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="75b3f387-e173-47c1-9e6d-424926eb2a35">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<parameter name="NO_INVOICE" class="java.lang.String">
		<defaultValueExpression><![CDATA[$P{NO_INVOICE}]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
pesanan_addon.id_pesanan_addon,
pesanan_layanan.id_pesanan_layanan AS inoice_induk,
kategori_addon.nama_kategori_addon,
sub_kategori_addon.nama_sub_kategori_addon,
paket_addon.harga_paket_addon,
pesanan_addon.jumlah_pesanan_addon,

(paket_addon.harga_paket_addon * pesanan_addon.jumlah_pesanan_addon) AS total_harga
FROM
pesanan_addon
LEFT JOIN
pesanan_layanan ON pesanan_layanan.id_pesanan_layanan = pesanan_addon.id_pesanan_layanan
LEFT JOIN
paket_addon ON paket_addon.id_paket_addon = pesanan_addon.id_paket_addon
LEFT JOIN
sub_kategori_addon ON sub_kategori_addon.id_sub_kategori_addon = paket_addon.id_sub_kategori_addon
LEFT JOIN
kategori_addon ON kategori_addon.id_kategori_addon = sub_kategori_addon.id_kategori_addon
LEFT JOIN
pelanggan ON pelanggan.id_pelanggan = pesanan_layanan.id_pelanggan
LEFT JOIN
perusahaan_pelanggan ON perusahaan_pelanggan.id_pelanggan = pelanggan.id_pelanggan
WHERE pesanan_layanan.id_pesanan_layanan = $P{NO_INVOICE};]]>
	</queryString>
	<field name="id_pesanan_addon" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="inoice_induk" class="java.lang.String"/>
	<field name="nama_kategori_addon" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nama_sub_kategori_addon" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="harga_paket_addon" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="jumlah_pesanan_addon" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="total_harga" class="java.lang.Long"/>
	<variable name="SUM_TOTAL_ADDON" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[$F{total_harga}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="25" splitType="Stretch">
			<textField>
				<reportElement x="455" y="0" width="100" height="20" uuid="c7ad384d-74e0-4c55-b466-c28c913e9525"/>
				<textElement>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.text.DecimalFormat("Rp#,##0").format($F{total_harga})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="255" y="0" width="100" height="20" uuid="55114c56-2340-4699-8249-c9cc70301118"/>
				<textElement>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{jumlah_pesanan_addon}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="255" height="20" uuid="359ceea4-fea9-434b-ae12-c499fc85a8f6"/>
				<textElement>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nama_sub_kategori_addon}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="355" y="0" width="100" height="20" uuid="c9ad7753-a802-4f0a-ac94-d85b21a82c34"/>
				<textElement>
					<paragraph leftIndent="3" rightIndent="3" spacingBefore="3" spacingAfter="3"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.text.DecimalFormat("Rp#,##0").format($F{harga_paket_addon})]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
